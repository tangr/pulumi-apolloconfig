name: provider-apolloconfig
runtime: yaml
description: A minimal Pulumi YAML program
plugins:
  providers:
    - name: apolloconfig
      path: ../../bin

pluginSearchPaths:
  - ./../bin
  - ./bin

# config: {'pulumi:tags': {value: {'pulumi:template': yaml}}}

config:
  # apolloconfig:apiUrl: https://api.pulumi.com
  # apolloconfig:apiUrl: https://httpbin.org/status/404
  apolloconfig:apiUrl: https://apollo-test.itfs.dev
  apolloconfig:authToken: "7cb2cc35f74533d66f6914af9dc32a79c3bd613a"

variables: {}

resources:
  myApolloItemResource:
    type: apolloconfig:index:ApolloItem
    properties:
      appId: "superadmin"
      namespace: "application"
      env: "PRO"
      clusterName: "open-api-test3"
      key: "content"
      value: "{b:c}"
      # operator: apollo
      comment: "managed by pulumi"
      dataChangeCreatedBy: "apollo"
      dataChangeLastModifiedBy: "apollo"

# outputs:
#   output:
#     value: ${myApolloItemResource.result}
